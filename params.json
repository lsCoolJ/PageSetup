{"name":"Programming in C","tagline":"","body":"# C for Programming Systems\r\n\r\nThis page is to document my experience in the class TCSS 333: C for Programming Systems. It will contain an introduction to the C language as well as using some terminal commands.\r\n\r\nWord of Warning: a program compiled in the C language can run differently on different OS's. If something works on a Mac, then it might not work the same way as a Windows.\r\n\r\nI am also going to be moving a little fast and might be skipping over simpler subjects. If you are stuck, just google what doesn't make sense to you.\r\n\r\nThis page will continuously be updated throughout the Spring quarter.\r\n\r\n## Setup\r\n\r\nCompiling and running code written in C is relatively easy compared to langauges such as java. In C, you can do everything in Bash or a Terminal window. On a Linux or Mac operating system, then you're ready to begin, although on windows, you may need to download something else. \r\n\r\nWhile you can do everything through the command line, you can also use a developing platform like Eclipse to write and compile your code.\r\n\r\n### On Mac OS X or Linux\r\n\r\nMac OS X is a Unix based operating system. It has a built in Terminal that anyone can access. To open it up on your Mac, just press CMD + Space and this will bring up a search bar. Then type in \"Terminal\" and press Enter and your terminal will pop up.\r\n\r\nThis is where you can write and run most C programs. To write a C program, you can use a Command Line Text Editor such as Vi, Vim, or Emacs. You can also use TextEdit or any other GUI on your Mac.\r\n\r\nLinux is also a Unix based operating system, so you also have command line and so the idea is pretty much the same.\r\n\r\n### On Windows\r\n\r\nThere are command line and C development tools provided to windows users that you will have to download through Cygwin. If you go to the [Cygwin Website](http://www.cygwin.com/), then you can download Cygwin from there.\r\n\r\nAfter starting the installer, you will progress through a series of prompts covering download source, installation directory, and other basic items. Under the \"Devel\" category, select the following additional packages for installation by clicking in the \"New\" column of the appropriate line (the field will change from \"Skip\" to a version number):\r\n\r\n\t* gcc-core\r\n\t* gdb\r\n\t* make\r\n\r\nClick he \"Next >\" button at the bottom of the \"Select Packages\" dialog and finish the installation.\r\n\r\nAfter the installation of Cygwin is finished, you'll need to add teh Cygwin executable directory to the PATH environment variable. For windows 7 users, open \"Control Panel\" then \"System and Security\" then \"System\" then \"Advanced Settings.\" Click the \"Environmental Variables...\" button. Amend the value for the \"Path\" variable to include the bin directory of your Cygwin installation. For example, the default installation directory is \"C:\\cygwin\", so you'd add \";C:\\cygwin\\bin\" to the end of \"Path\".\r\n\r\n#### Checking whether Cygwin is in your path: \r\n\r\nFirst start up a DOS command window. If you don't know how, please check [here](http://www.computerhope.com/issues/chdos.htm). Now go to the DOS prompt and try these two tests:\r\n\r\nTest One:\r\n- at the prompt, type: gcc (and press enter)\r\nIf your cygwin is set up correctly, you should get this error message:\r\ngcc: fatal error: no input files compilation terminated\r\n\r\n- If you instead get a message such as\r\n'gcc' is not recognized as an internal or external command, etc.\r\nthen either you haven't installed cygwin or have not added cygwin's bin directory to your path. Continue on to the second test.\r\n\r\nTest Two\r\n- at the prompt, type: set (and press enter)\r\nA lot of information will appear.\r\nScroll though it looking for a line that starts \"Path= ...\r\nYour path may go on for several lines or more. You will notice that the directory names are separated from each other by semicolons. Look through and see if your cygwin bin directory is included. Its complete name depends on where you put cygwin when you installed it, but the name will be something like c:\\cygwin\\bin Naturally every character must be correct and it must match the full name of your cygwin\\bin directory. Also the path should be separated from any path coming before or after by a semicolon.\r\n\r\nIf these tests don't work, go back to step 4 and try that again.\r\n\r\n## Setting up Eclipse for C\r\n\r\nIf you really want to for some reason, you can use Eclipse to program in C.\r\n\r\n### Installing CDT\r\n\r\nCDT can be added to an existing Eclipse installation via Eclipse's internal software installation mechanism.\r\n\r\n1. StartEclipse.￼￼\r\n2. Select the menu item \"Help\" → \"Install New Software...\"\r\n3. In the \"Work with:\" drop-down selection box, select the CDT software site. \r\n\t* The CDT software site may initially not be present in the drop-down box.\r\n\t* Click the \"Available Software Sites\" link below the \"Work with:\" drop-down box.\r\n\t* Iftheupdatesite\"http://download.eclipse.org/tools/cdt/releases/kepler\" is present, then enable it. If the update site is missing its name, then enter a meaningful name such as \"CDT\".\r\n\t* If the update site isn't present, then click the \"Add...\" button to the right. Enter the name and location (URL) for the update site. Once you click \"Ok\" the update site should be enabled.\r\n\t* Click \"Ok\" to close the \"Preferences\" dialog. The CDT software site should now be present in the \"Work with:\" drop-down box.\r\n4. With the CDT software site selected, there should be two feature categories listed, \"CDT Main Features\" and \"CDT Optional Features\".\r\n5. Under \"CDT Main Features\", select \"C/C++ Development Tools\".\r\n6. Continue with the installation by clicking the \"Next >\" button at the bottom of the \"Install\" dialog. Follow the subsequent prompts to finish the installation.\r\n\r\n### Verifying the Setup\r\n\r\nYou should now be ready to develop C programs in Eclipse. As a simple test you might try implementing the classic \"Hello world!\" program in C.\r\n\r\n1. Start Eclipse (if it's not already running).\r\n2. Create a new \"C Project\". The \"Project type:\" should be \"Empty Project\"\r\n(Windows users should see \"Cygwin GCC\" under \"Toolchains:\").\r\n3. Add a new C source file named \"main.c\" to your project.\r\n4. Implement an appropriate main method such as:\r\n\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tprintf(\"Hello world!\");\r\n\treturn 0;\r\n}\r\n```\r\n\r\n5. If all goes well, when you execute your program you should see \"Hello world!\" displayed in the console view tab.\r\n\r\n\t1. If your program didn't execute, first look to see if your source code file was saved. Find the editor window for your source code. The name of the file should appear on a tab at the top of the window. If there is an asterisk (*) in front of the name, that means the file has not been saved. Save your file and try again to run the program.\r\n\r\n\t2. If you receive a \"Launch failed. Binary not found\" error, then Eclipse didn't automatically create a run configuration when you attempt to execute your program.\r\n\r\n\t3. Select the menu item \"Run\" -> \"Run Configurations...\"\r\n\r\n\t4. Most likely, there's no entry under \"C/C++ Application\". Select \"C/C++ Application\" click the \"New\" button in the upper left (it looks like a sheet of paper with a plus in the corner).\r\n\t\r\n\tThis should create something called a \"New Configuration\" in the same window. Some of the fields in the new configuration may be blank and you will have to fill them in.\r\n\r\n\tNext to the blank space labeled \"Project:\", there should be a Browse button on the right. Click the browse button. A new window pops up and you will hopefully see your project listed. Click it to highlight it and press OK. That should fill in the Project: space.\r\n\r\n\tNow go down to the C/C++ Application blank. There is a Search Project button to the right of that. Click it. Under \"Binaries\" you should see your project name with \".exe\" added. Click to highlight and press OK. This should fill in the C/C++ Application.\r\n\r\n\tPress the Apply and Close buttons to get rid of the Run Configurations window. Try running (with the green arrow button).\r\n\r\nIf you think your program has no errors, but won't execute, try this: Go to the Project menu, and select \"Build All\"\r\nPrograms that use scanf need an extra line when run with Eclipse:\r\nsetvbuf(stdout, NULL, _IONBF, 0);\r\nPlace this line at the start of main.\r\n\r\n## Writing your first C Program.\r\n\r\nIf you went through the steps for setting up Eclipse then you've already done this. \r\n\r\nOtherwise, open up your favorite text editor and type in the following:\r\n\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\t\r\n\tprintf(\"Hello World\\n\");\r\n\r\n\treturn 0;\r\n}\r\n```\r\nSave this program as \"hello.c\".\r\n\r\nWhen you're in terminal, you may need to navigate to the directory or folder that you saved your hello.c file in. If you don't know how to do this, you can use the `ls` command to see what is in your current directory, `pwd` to see what your current path is, and `cd <directory>` to change the directory to the one specified.\r\n\r\nOnce you are in the directory where you saved your .c file, in command line, type: \r\n```\r\ngcc hello.c -o hello\r\n```\r\nThe -o flag specifies a file to output the compile code into. If you just typed `gcc hello.c` then your output would be compiled into a file called `a.out`.\r\n\r\nNow that you compiled your program, it's time to run it. In the command line, type `./hello` and your program should print out \"Hello World\" in your terminal and then end.\r\n\r\nKeep in mind that if you're testing your code and you keep changing it, then each time you test, you have to recompile your code every time before running it. You can shorten this down by typing two ampersands in between your commands. For example: `gcc hello.c -o hello && ./hello`. What this will do is compile your code into the file `hello` and then it will run `hello` all in one command.\r\n\r\n## Taking input from the command line\r\n\r\nWhen you run a program, you can take in data and store it in a variable to be used later.\r\n\r\nThe first thing you have to do is declare the type you want to use. For example: if you want to use a number, you typically declare a double or int and if you want to use a string (characters) then you declare a string or a character array.\r\n\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint num;\r\n\tstring words;\r\n\tchar characters[50];\r\n}\r\n```\r\n\r\nNext you'll typically have to print out a prompt for the user of the program: `printf(\"Type something: \");\r\n\r\nIf we just left it at this, then the program would end after printinf the above statement, so how do we pause the execution of the program so we may type something? We use the function `scanf()`. Because this statement is **Blocking**, then that function will stop the progress of the program until it recieves a carriage return from the command line.\r\n\r\nFor example:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint age;\r\n\tchar name[20];\r\n\r\n\tprintf(\"What is your name?\");\r\n\tscanf(\"%c\", name);\r\n\r\n\tprintf(\"What is your age?\");\r\n\tscanf(\"%d\", &age);\r\n\r\n\tprintf(\"Your name is %s and you are %d years old.\\n\", name, age);\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nThis program will ask you for your name and age and then print them out. You're probably wondering why we are using the `%c`'s and `%d`'s in this program. The f in the functions `printf()` and `scanf()` stands for \"formatted\" and the letters with percentage signs in front of them are called \"Format Specifiers\". There are different ways to format the variables we use so that when it shows up in the console, it's actually readable by humans. For example, if we had placed a %c in place of %d when we printed out the age, then we would've gotten a jumble of nonsense rather than an actual age. For a full list of format specifiers and how to use the printf function, go [here](http://www.codingunit.com/printf-format-specifiers-format-conversions-and-formatted-output).\r\n\r\nNow that we completed this program, lets try making a program that just prints out whatever you type again. What we know how to do now is printing out something once. So what we need to know now is how to keep checking to see if there is something else being typed after we already typed something. We can do this using a **loop**.\r\n\r\nThere are two different kinds of loops: a `while` loop and a `for` loop. A while loop checks if something is still true and then executes specific code if it is. A for loop checks for a specific condition (such as one number being equal to another) and then keeps executing if that condition has not been met yet. For example, here are two different ways of accomplishing the same loop:\r\n\r\nUsing the while loop:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint i = 0;\r\n\r\n\twhile(i < 5) {\r\n\t\tprintf(\"i = %d\", i);\r\n\t\ti++;\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nUsing a for loop:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint i;\r\n\r\n\tfor(i = 0; i < 5; i++) {\r\n\t\tprintf(\"i = %d\", i);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nNow that we know how to loop through something, lets apply that to our other program that read from the command line:\r\n\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tchar str;\r\n\r\n\twhile(1) {\r\n\t\tprintf(\"TOP\\n\");\r\n\t\tscanf(\"%c\", &str);\r\n\t\tprintf(\"%c\", str);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nThis program will read what you type in and then repeat it every time you type a carriage return. That conludes the first lesson.\r\n\r\n## Next lesson:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# Code that was written throughout this page.\r\n\r\nHello World in C:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\t\r\n\tprintf(\"Hello World\\n\");\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nExample of using scanf:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint age;\r\n\tchar name[20];\r\n\r\n\tprintf(\"What is your name?\");\r\n\tscanf(\"%c\", name);\r\n\r\n\tprintf(\"What is your age?\");\r\n\tscanf(\"%d\", &age);\r\n\r\n\tprintf(\"Your name is %s and you are %d years old.\\n\", name, age);\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nUsing the while loop:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint i = 0;\r\n\r\n\twhile(i < 5) {\r\n\t\tprintf(\"i = %d\", i);\r\n\t\ti++;\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nUsing a for loop:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tint i;\r\n\r\n\tfor(i = 0; i < 5; i++) {\r\n\t\tprintf(\"i = %d\", i);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```\r\n\r\nA continuous loop echoing back what is typed:\r\n``` c\r\n#include <stdio.h>\r\n\r\nint main(void) {\r\n\tchar str;\r\n\r\n\twhile(1) {\r\n\t\tprintf(\"TOP\\n\");\r\n\t\tscanf(\"%c\", str);\r\n\t\tprintf(\"%c\", str);\r\n\t}\r\n\r\n\treturn 0;\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}